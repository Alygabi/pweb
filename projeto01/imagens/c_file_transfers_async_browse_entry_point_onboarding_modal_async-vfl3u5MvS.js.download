!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8d1fff6f-1569-3795-aa73-e70ed19f5753")}catch(e){}}();
define(["require","exports","./c_api_v2_client_base","./c_memoize-one","./c_api_v2_routes_password_confirmation_provider","./c_init_data_debug_panel","./e_file_viewer_static_scl_page_file","./c_src_common_constants","./c_watermarking_utils_getImageDefaultSizes","./e_data_modules_stormcrow","./e_edison","./c_browser_browser_detection","./c_core_i18n","./c_upload_kit_lib_types"],(function(e,r,n,a,i,o,t,s,l,_,d,S,T,E){"use strict";var f,c,u,g,F,m,O;r.UserFlow=void 0,(f=r.UserFlow||(r.UserFlow={})).TRANSFER_MANAGEMENT_MODAL="transfer_management_modal",f.MANAGEMENT_LIST_VIEW="management_list_view",f.CREATION="creation",f.RECIPIENT="recipient",f.BROWSE="browse",f.TRANSFER_CREATION_MODAL="transfer_creation_modal",r.ModalVisibilityChange=void 0,(c=r.ModalVisibilityChange||(r.ModalVisibilityChange={})).OPEN="open",c.CANCEL="cancel",c.OK="ok",r.SettingsVisibilityChange=void 0,(u=r.SettingsVisibilityChange||(r.SettingsVisibilityChange={})).OPEN="open",u.CLOSE="close",r.TransferListView=void 0,(g=r.TransferListView||(r.TransferListView={}))[g.Active=0]="Active",g[g.Expired=1]="Expired",g[g.All=2]="All",r.Actions=void 0,(F=r.Actions||(r.Actions={})).ChangeSettingsModalState="FileTransfers/ChangeSettingsModalState",F.ChangeConfirmTransferDeletionModalState="FileTransfers/ChangeConfirmTransferDeletionModalState",F.LogCopyTransferLink="FileTransfers/LogCopyTransferLink",F.DeleteTransferSummary="FileTransfers/DeleteTransferSummary",F.ExpireTransferSummary="FileTransfers/ExpireTransferSummary",F.ReactivateTransferSummary="FileTransfers/ReactivateTransferSummary",F.FinishedEditing="FileTransfers/FinishedEditing",F.HideOnboardingStep="FileTransfers/HideOnboardingStep",F.InitApp="FileTransfers/InitApp",F.LogAllItemsUploaded="FileTransfers/LogAllItemsUploaded",F.LogAutoDownload="FileTransfers/LogAutoDownload",F.LogOnboarding="FileTransfers/LogOnboarding",F.LogEmailFeedback="FileTransfers/LogEmailFeedback",F.LogUpsell="FileTransfers/LogUpsell",F.MarkOnboardingStepComplete="FileTransfers/MarkOnboardingStepComplete",F.MarkServerRestrictedFiles="FileTransfers/MarkServerRestrictedFiles",F.MetadataUpdated="FileTransfers/MetadataUpdated",F.SendTransferViaEmail="FileTransfers/SendTransferViaEmail",F.ReceivedTransferRowClick="FileTransfers/ReceivedTransferRowClick",F.TransferManagementTabClick="FileTransfers/TransferManagementTabClick",F.SetActiveUserId="FileTransfers/SetActiveUserId",F.SetBackground="FileTransfers/SetBackground",F.SetBackgroundPreview="FileTransfers/SetBackroundPreview",F.SetLogo="FileTransfers/SetLogo",F.SaveLogo="FileTransfers/SaveLogo",F.SetCurrentTransfer="FileTransfers/SetCurrentTransfer",F.SetExpiration="FileTransfers/SetExpiration",F.SetIsShared="FileTransfers/SetShareStatus",F.SetIsShareComplete="FileTransfer/SetShareComplete",F.ChangeManagementModalState="FileTransfers/ChangeManagementModalState",F.SetProductConfig="FileTransfers/SetProductConfig",F.SetRecipients="FileTransfers/SetRecipients",F.SetShareUrl="FileTransfers/SetShareUrl",F.SetFileTransfersUserMetadata="FileTransfers/SetFileTransfersUserMetadata",F.UpdateTransferSummaries="FileTransfers/UpdateTransferSummaries",F.UpdateReceivedTransferSummaries="FileTransfers/UpdateReceivedTransferSummaries",F.ViewFeedbackForm="FileTransfers/ViewFeedbackForm",F.TemporarilySaveEmailFormInfo="FileTransfers/TemporarilySaveEmailFormInfo",F.ClearSavedEmailFormInfo="FileTransfers/ClearSavedEmailFormInfo",F.LogInternetDisconnected="FileTransfers/LogInternetDisconnected",F.LogOnboardingStepShown="FileTransfers/LogOnboardingStepShown",F.MarkOnboardingStepShown="FileTransfers/MarkOnboardingStepShown",F.LogShareError="FileTransfers/LogShareError",F.UpdateSettingsFromManagementModal="FileTransfers/UpdateSettingsFromManagementModal",F.LogSettingsClicked="LogSettingsClicked",F.RemoveReceivedTransferFromList="FileTransfers/RemoveReceivedTransferFromList",F.LogRemoveReceivedTransferClicked="FileTransfers/LogRemoveReceivedTransferClicked",F.LogViewReplayFileTransferPrompt="FileTransfers/ViewReplayFileTransferPrompt",F.LogClickReplayFileTransferPrompt="FileTransfers/ClickReplayFileTransferPrompt",F.LogClickDownloadSUSIFooter="FileTransfers/LogClickDownloadSUSIFooter",F.LogHeadlessBrowserDetected="FileTransfers/LogHeadlessBrowserDetected",l.computeDomains(null!==(m=window.__DEV_SERVER_HOSTNAME__)&&void 0!==m?m:"")[0].WEB_STATIC_CLOUDFLARE_CDN_HOST,l.computeDomains(null!==(O=window.__DEV_SERVER_HOSTNAME__)&&void 0!==O?O:"")[0].WEB_STATIC_CLOUDFLARE_CDN_HOST;const A="NULL";var I,R,p;!function(e){e.CUSTOMIZE_DESIGN="customize_design",e.DOWNLOAD_ALL="download_all",e.DISABLE_DOWNLOAD_NOTIFICATIONS="disable_download_notifications",e.EMAIL_JUST_VERIFIED="email_just_verified",e.EMAIL_TYPE="email_type",e.FEEDBACK="feedback",e.LIKE_EMAIL="like_email",e.RECP_TRACKING="ftref",e.SAVE_TO_DROPBOX="s2d",e.SEND_REMINDERS="send_reminders",e.MANAGEMENT_RECEIVED_DOWNLOAD="management_received_download"}(I||(I={})),function(e){e[e.ADD_FILES=0]="ADD_FILES",e[e.UPLOAD_PROGRESS=1]="UPLOAD_PROGRESS",e[e.REDESIGNED_EMAIL_SENT_CONFIRMATION=2]="REDESIGNED_EMAIL_SENT_CONFIRMATION",e[e.REDESIGNED_SHARE_LINK_CONFIRMATION=3]="REDESIGNED_SHARE_LINK_CONFIRMATION"}(R||(R={})),function(e){e[e.VIEW_FILES=0]="VIEW_FILES",e[e.DOWNLOAD_CONFIRMATION=1]="DOWNLOAD_CONFIRMATION"}(p||(p={}));var L;!function(e){e.CUSTOM_BACKGROUND="custom_background",e.EXPIRATION="expiration",e.EXPIRED_TRANSFERS="expired_transfers",e.OVER_LIMIT="over_limit",e.PASSWORD="password",e.TRANSFER_LOGO="transfer_logo",e.SHOW_WHO_HAS_DOWNLOADED="show_who_has_downloaded",e.MANAGE_PAGE_UPSELL_BANNER="manage_page_upsell_banner",e.SHARING_SETTINGS_UPSELL_BANNER="sharing_settings_upsell_banner"}(L||(L={}));const N=100*s.BYTES_IN_GIGABYTE,D=250*s.BYTES_IN_GIGABYTE;var C,w;t.format_bytes(N,0),t.format_bytes(D,0),function(e){e.ABOUT_PAGE="about",e.CREATE_PAGE="create",e.VIEW_PAGE="view",e.VIEW_EXPIRED_PAGE="view_expired",e.VIEW_DELETED_PAGE="view_deleted",e.LIST_PAGE="list"}(C||(C={})),function(e){e.TRY_PROFESSIONAL="try_professional",e.BUY_PROFESSIONAL="buy_professional",e.CONTACT_ADMIN="contact_admin",e.TRY_BUSINESS_ADVANCED="try_business_advanced",e.BUY_TRANSFER="buy_transfer"}(w||(w={}));var M,v,h,b,U,P;r.UploadStatus=void 0,(M=r.UploadStatus||(r.UploadStatus={}))[M.Waiting=0]="Waiting",M[M.Uploading=1]="Uploading",M[M.Success=2]="Success",M[M.Error=3]="Error",function(e){e.Dropbox="dropbox",e.Computer="computer",e.Transfer="transfer"}(v||(v={})),r.OriginalFileSource=void 0,(h=r.OriginalFileSource||(r.OriginalFileSource={})).Dropbox="dropbox",h.Computer="computer",h.Unknown="unknown",function(e){e.DRAG_DROP="drag_drop",e.DROPBOX_CHOOSER_ADDITIONAL="dropbox_chooser_additional",e.DROPBOX_CHOOSER_INITIAL="dropbox_chooser_initial",e.UPLOAD_BUTTON_ADDITIONAL="upload_button_additional",e.UPLOAD_BUTTON_INITIAL="upload_button_initial",e.DESKTOP_CONTEXT_MENU="desktop_context_menu",e.PAGELET_ON_LOAD="pagelet_on_load",e.TRANSFER_CREATION_MODAL_ON_LOAD="transfer_creation_modal_on_load"}(b||(b={})),function(e){e.EmptyFile="empty_file",e.IgnoredFile="ignored_file",e.OverMaxFileSize="over_max_file_size",e.PointerFile="pointer_file",e.TemporaryFile="temporary_file",e.InvalidChar="invalid_char",e.TimeOut="time_out",e.NotFound="not_found",e.NoPermission="no_permission",e.Restricted="restricted",e.InvalidArgs="invalid_args",e.Unknown="unknown"}(U||(U={})),function(e){e.CancelButton="cancel_button",e.WindowClose="window_close"}(P||(P={}));var y;function k(e){return r=>function(e){return e.value?e.value[".tag"]:"other"}(r)===e}!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.DOWNLOADING=1]="DOWNLOADING",e[e.ERROR=2]="ERROR",e[e.PAUSED=3]="PAUSED",e[e.FETCHING_TOKENS=4]="FETCHING_TOKENS",e[e.CANCELED=5]="CANCELED",e[e.COMPLETED=6]="COMPLETED"}(y||(y={}));const B=k("image"),G=k("video");r.COMPLETED_TRANSFER_BROWSE_ENTRY_ONBOARDING="completedTransferBrowseEntryOnboarding",r.CUSTOM_BACKGROUND_ID="custom",r.CUSTOM_LOGO_ID="custom_logo",r.NULL_FILE_TRANSFER_KEY=A,r.asyncShowBrowseEntryPointOnboardingModal=r=>{new Promise((function(r,n){e(["./c_file_transfers_containers_browse_entry_point_onboarding_modal"],r,n)})).then((({showBrowseEntryPointOnboardingModal:e})=>e(r)))},r.folderEligibleForTransfer=e=>!t.File.isNoAccessSharedFolder(e),r.getLocalStorageBooleanValueForKey=function(e){const r=localStorage.getItem(e);return null===r?null:"true"===r},r.getTransferFilesKey=function(e){return e||A},r.isAtRoot=function(e){return null===function(e){let r;if("dest"in e)r=e.dest;else if("fullPath"in e){if(!e.fullPath)return null;r=e.fullPath,"/"===r.charAt(0)&&(r=e.fullPath.substring(1))}else{if(!("path"in e))throw new Error("file must be either PluploadFile, StateFileInfo, or FileSystemEntry");if(!e.path)return null;r=e.path}const n=r.split("/");if(n.length<=1)return null;return n[0]}(e)},r.isColorBackground=function(e){return!!e.color_hex&&!e.asset},r.isImageBackground=function(e){return!!e.asset&&B(e.asset)},r.isVideoBackground=function(e){return!!e.asset&&G(e.asset)},r.redirectToCreateTransferWithFiles=(e,r)=>{const n=function(e){return e.map((e=>e.file_id.replace("id:",""))).join(".")}(e);var a;t.Snackbar.sync(T.intl.formatMessage({id:"EmOY+w",defaultMessage:"Creating new transfer..."}),!1,"create-transfer"),t.redirect((a={referrer:r,fileids:n},new o.URI({scheme:"https",authority:l.getDomains().WEBSERVER,path:"/transfer",query:a}).toString()))},r.setLocalStorageValueForKey=function(e,r){localStorage.setItem(e,r.toString())},r.shouldShowTransferInSplitShare=(e,r)=>e&&r.length>0&&!r.some((e=>e.is_cloud_doc))&&!r.some(t.File.isNoAccessSharedFolder)}));
//# sourceMappingURL=c_file_transfers_async_browse_entry_point_onboarding_modal_async.js-vflYdra4t.map

//# debugId=8d1fff6f-1569-3795-aa73-e70ed19f5753